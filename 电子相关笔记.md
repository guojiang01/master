## 电子相关笔记

### RC Snubber吸收电路计算

1. 首先测量没有RC吸收电路时的振荡频率$f1$, $f1 \approx \frac{1}{2\pi\sqrt{L_1C_1}}$.

2. 然后放置一个已知$C2$，测量振荡频率$f2$,$f2 \approx \frac{1}{2\pi\sqrt{L_1(C_1+C_2)}}$.

3. 根据式$(1)\ (2)$计算得出，$L_1$和$C_1$,$L_1 = \frac{f_1^2-f_2^2}{4\pi^2f_1^2f_2^2C_2}$,$C_1=\frac{f_2^2C_2}{f_1^2-f_2^2}$

4. 根据$R_2=\frac{1}{2}\sqrt{\frac{L_1}{C_2}}$,计算得到$R_2$初值

5. 根据$\frac{1}{2\pi R_2C_2}=\frac{f_1}{4}$取$C_2$初值。

### 肖克利方程

半导体二极管的一般特性可以用肖克利方程表示：$I_D = I_S (e^{\frac{V_D}{nV_T}}-1)\ \ \ (A)$,$I_S$是反向饱和电流;$V_D$是加在二极管上的正偏电压；$n$是理想因子，是工作条件和物理结构的函数，范围在$1$和$2$之间，依赖众多数量的因素。上式中的电压$V_T$称为热电压，有下式确定: $V_T = \frac{kT}{q}\ \ \ \ (V)$ ,式中，$k$是玻尔兹曼常数，为$1.38\times10^{-23}J/K$,$T$是热力学温度，为$273+$摄氏温度，$q$是电子的电荷量，为$1.6\times10^{-19}C$. $27$摄氏度时$V_T\approx26mV$.利用肖克利方程的特性，可实现指数和对数运放：![对数指数电路.png](https://i.loli.net/2021/02/02/gpHskbxDmyu2PcE.png) 

![乘法电路.png](https://i.loli.net/2021/02/02/5D1IBLkVroCTFYS.png) 

***

***

***

## 电容选型指南

### 电容技术

电容具有各种尺寸、额定电压和其他特性，能够满足不同应用的具体要求。常用电解质材料包括油、纸、玻璃、空气、云母、各种聚合物薄膜和金属氧化物。每一种电解质都具有一系列特定属性，可满足每种应用的独特需求。

### 多层陶瓷电容

多层陶瓷电容$(MLCC)$同时具有小型、有效串联电阻和电感$(ESR和ESL)$低，工作温度范围宽的优点，通常是作为旁路电容的首选。

它并非无可挑剔。根据所用的电介质材料，电容可能随着温度变化和交直流偏置发生大幅偏移。此外，因为在许多陶瓷电容中介电质材料具有压电性，振动或机械冲击可能会转化为电容上的交流噪声电压。在大部分情况下，此噪声一般处于微伏范围内。但在极端情况下，可能会产生毫伏级的噪声。

$VCO(压控振荡)、PLL、RF、PA(功率放大)$以及低电平模拟信号等应用对电源轨上的噪声非常敏感。这种噪声在$VCO$和$PLL$中表现为相位噪声，而在$RF\ PA$中则为载波振幅调制。在$EEG$、超声波和$CAT$扫描前置放大器等低电平信号链应用中，噪声会导致在这些仪器的输出中出现杂散噪音。在这些噪声敏感应用中，必须认真评估多层陶瓷电容。

### 固态钽电容

这种电容单位体积电容最高$(CV乘积)$。只有双层或超级电容才具有更高的$CV$乘积

在$1\mu F$范围内，陶瓷仍然具有更小且$ESR$低于钽，但固态钽电容不会太受到温度、偏置电压或震动效应的影响。钽比陶瓷电容贵好几倍，但在无法容忍压电效应的低噪声应用中，钽常常是唯一可行的选择。

市面上的传统低值固态钽电容所用外壳往往一般比较小，故等效串联电阻$(ESR)$较高。大容值$(> 68\mu F)$钽电容可具有低于1$\Omega$的$ESR$，但一般体积较大。任何钽电容的泄露电流比等值陶瓷电容大好几倍，可能不适合超低电流应用。例如，在$85^oC$工作温度下，$1\mu F/25V$钽电容在额定电压下的最大泄露电流为$2.5\mu A$.

因为固态钽电容的电容值可以相对与温度和偏差电压保持稳定的电容特性，因此选择标准仅包括容差、、工作温度范围内的降压情况以及最大$ESR$.

**固态聚合物电解质技术的一大缺点是，这类钽电容在无铅焊接工艺中更容易受到高温影响。一般情况下，制造商会详细说明电容不得暴露与三个以上的焊接周期，如果在装配工艺中忽视这一要求，就会导致长期可靠性问题**

### 铝电解电容

传统的铝电解电容往往体积较大、$ESR和ESL$较高、漏电流相对较高且使用寿命有限（以数千小时计）。

$OS-CON$型电容是一种与固态聚合物钽电容有关的技术，实际上比钽电容早10年或更早就问世了。它们采用有机半导体电解质和铝箔阴极，以实现较低的$ESR$。因为不存在液体电解质逐渐变干的问题，$OS-CON$型电容的使用寿命比传统铝电解电容有了很大的提高。

虽然$OS-CON$型电容的性能比传统的铝电解电容明显改善，但是与陶瓷电容或固态聚合物钽电容相比，往往体积更大、$ESR$更高。与固态聚合物钽电容一样，它们不受压电效应的影响，适合要求低噪声的应用场合。

### 多层陶瓷电容选型

**输出电容**

输出电容的$ESR$会影响$LDO$控制回路的稳定性。为了确保$LDO$稳定工作，推荐使用至少$1\mu F$、$ESR$为1$\Omega$或更小的电容。输出电容还会影响负载电流变化的瞬态响应。采用较大的输出电容值可以改善$LDO$对大负载电流变化的瞬态相应。因为$LDO$控制环路的带宽有限，因此输出电容必须提供快速瞬变所需的大多数负载电流。

**输入旁路电容**

在$VIN$和$GND$之间连接一个$1\mu F$电容可以降低电路对$PCB$布局的敏感性，特别是在长输入走线或高源阻抗的情况下。如果要求输出电容大于$1\mu F$，应选用更高的输入电容。

**输入和输出电容的特性**

只要符合最小电容和最大$ESR$要求，$LDO$可以采用任何质量良好的电容。陶瓷电容可采用各种各样的电介质制造，温度和所施加的电压不同，其特性也不相同。电容必须具有足以在工作温度范围和直流偏置条件下确保最小电容的电介质。建议在$5V$应用中使用额定值为6.3V或10V的X5R或X7R电介质。

***

***

***

## 对数放大器

**对数放大器的基本概念和术语**

“对数放大器”这个术语有点用词不当，“对数转换器”更为贴切。将信号转换成其等效对数值涉及到一种非线性运算，如果不甚了解的话，其结果可能令人十分费解。必须注意，许多耳熟能详的线性电路概念与对数放大器毫无关系。例如，当输入接近零时，理想对数放大器的增量增益会接近无穷大，并且对数放大器输出的失调变化相当于其输入的幅度变化，而不是输入的失调变化。为便于讨论，我们假定对数放大器的输入和输出均为电压，尽管也可以设计对数电流放大器、对数跨阻放大器或对数跨导放大器。

如果考虑等式$Y=log(X)$，我们会发现，每当$X$乘以常数$A$，$Y$则按另一个常数$A1$递增。因此，如果$log(K)=K1$，则$log(AK)=K1+A1,log(A^2K)=K1+2A1$ 且$log(K/A)=K1-A1$。结果得到图1所示的曲线图，其中，当$X$为单位值时，$Y$为零；当$X$接近零时，$Y$逼近负无穷大；当$Y$为负时，$X$无值。![对数放大器1.png](https://i.loli.net/2021/02/06/9VHS8KxE4Wsqgbi.png)

总体而言，对数放大器的表现与此不同。除了很难排列无穷大负输出电压以外，这种器件实际上用处不大。

对数放大器必须满足一下传递函数：$V_{out}=V_Ylog(\frac{V_{IN}}{V_X})$，其输入值范围可能为100:1 (40 dB)至1,000,000:1 (120 dB)以上。

当输入非常接近零时，对数放大器的表现不再具有对数特性，此时多数对数放大器会遵守线性$\frac{V_{IN}}{V_{OUT}}$法则，这种行为往往在器件噪声中丢失。噪声通常会限制对数放大器的动态范围。常数$V_Y$具有电压维度，因为输出是电压。输入$V_{IN}$除以电压$V_X$，因为对数的自变量必须是简单的无量纲比值.

对数放大器的传递特性曲线如图2所示。横轴(输入)为对数刻度，理想的传递特性为直线。当$V_{IN} $= $V_X$时，对数为零$log\ 1=0$。因此，$V_X$称为对数放大器的“截止电压”，因为其曲线在$V_{IN}$等于此值时与横轴相交。![对数放大器2.png](https://i.loli.net/2021/02/06/SOX8PKbwkJYf14B.png) 

该曲线的斜率与$V_Y$成比例。在设置刻度时，通常采用基数为10的对数，因为这样可以简化其与分贝值的关系：当$V_{IN}=10V_X$时，对数值为1，因而输出电压为$V_Y$。当$V_{IN}=100V_X$时，输出为$2V_Y$，以此类推。因而，可以将$V_Y$视为“斜率电压”或“V/10倍频程系数”。

当$X$为负值时，对数函数的值不确定。对数放大器可能以三种不同方式响应负输入：

1. 可能产生满量程负输出，如图3所示
2. 可能产生与输入绝对值的对数成比例的输出，并忽略其符号，如图4所示。这类对数放大器可以视为具有对数特性的全波检波器，通常称为“检波”对数放大器
3. 可能产生与输入绝对值的对数成比例的输出，且符号与输入相同，如图5所示。这类对数放大器可以视为具有对数特性的视频放大器，可以称为“对数视频”放大器，或者有时也称为“真对数放大器”。

<img src="https://i.loli.net/2021/02/06/9DtKvdwTNns2XIH.png" alt="对数放大器3.png" style="zoom:67%;" />
<img src="https://i.loli.net/2021/02/06/u7ajnVB1KiR4TEL.png" alt="对数放大器4.png" style="zoom:67%;" />
<img src="https://i.loli.net/2021/02/06/KalIDzLjNCY2epU.png" alt="对数放大器5.png" style="zoom:67%;" />

### 对数放大器的架构

对数放大器有三种基本架构可用：基本二极管对数放大器、连续检波对数放大器和基于级联半限幅放大器的“真对数放大器”。硅二极管上的电压与流过它的电流的对数成比例。如果在反相运算放大器的反馈路径中放置一个二极管，则输出电压将与输入电流的对数成比例，如图6所示。

<img src="https://i.loli.net/2021/02/06/oBeh51SfGd8lmaH.png" alt="对数放大器6.png" style="zoom:80%;" />

实践中，这种配置的动态范围限制在40-60 dB之间，因为二极管的特性不甚理想；但是，如果用一个以二极管连接的晶体管取代这个二极管(如图7所示)，则动态范围可以扩展至120 dB或以上。

<img src="https://i.loli.net/2021/02/06/vpRVDIomW7rKuH9.png" alt="对数放大器7.png" style="zoom: 67%;" />

这类对数放大器有三个缺点：

1. 斜率和截距都受温度影响；
2. 只能处理单极性信号；
3. 其带宽受限且受信号幅度影响。

如果在单个芯片上使用多个此类对数放大器来构建同时执行对数和反对数运算的模拟计算机，则在对数运算中，温度变化无关紧要，因为这会由反对数运算中的类似变化进行补偿。（AD538）

***

***

***

## [markdown数学公式链接](https://www.jianshu.com/p/8b6fc36035c0)

## 品质因数

品质因数Q：表征一个储能器件（如电感线圈、电容）、谐振电路所储能量同每周期损害能量之比的一种质量指标

。元件的Q值越大，用改元件组成的电路或网络的选择性越佳。

<font size=4>$ Q=2\pi\frac{一个周期存贮的能量}{一个周期损失的能量} $  或 $ Q=\frac{有功功率}{无功功率}$ 或称特性阻抗与回路电阻之比 </font>

$Q$ 值越高，损耗越小。 $Q$ 值越高，谐振器的频率稳定度越高

### 电容阻抗

$ Z=\underbrace{Rs+\frac{Rp}{1+\omega^2Rp^2C^2}}_{RealPart(R)}+j\underbrace{\frac{\omega L-\omega Rp^2C+\omega^3Rp^2LC^2}{1+\omega^2Rp^2C^2}}_{imaginarypart(x)}$  

### $Q$ 值相当于 $D$ 值的倒数

损耗角即$D$值：一般电解电容器因为内阻较大故$D$值较高，其规格视电容值高低决定，为0.1-0.24一下。

塑料薄膜电容器则$D$值较低，视其材质决定为0.001-0.01一下。

陶瓷电容器视其材料决定，Hi-k type及S/C type为0.025一下，T/C type其规格以$Q$值表示需高于400-1000

$Rs$等效串联电阻$ESR$ 

$Rp$等效并联电阻$EPR$ 

***

***

---

## 温度传感器

|                    | NTC热敏电阻                                                   | 铂RTD                                       | 热电偶                                 | 半导体                               |
| ------------------ | --------------------------------------------------------- | ------------------------------------------ | ----------------------------------- | --------------------------------- |
| 传感器                | 陶瓷<br />金属氧化尖晶石                                           | 铂绕线式<br />或金属薄膜                            | 热电                                  | 半导体连接点                            |
| 温度范围（常规）           | -100~+325摄氏度                                              | -200~+650摄氏度                               | 200~+1750摄氏度                        | -70~150摄氏度                        |
| 准确性（常规）            | 0.05~1.5摄氏度                                               | 0.1~1.0摄氏度                                 | 0.5~5.0摄氏度                          | 0.5~5.0摄氏度                        |
| 100摄氏度的<br />长期稳定性 | 0.2摄氏度/年（环氧）<br />0.02摄氏度/年（玻璃）                           | 0.05摄氏度/年(薄膜)<br />0.002摄氏度/年(电线)          | 可变，某些类型会随着年限的变化而变化                  | 大于1摄氏度/年                          |
| 输出                 | NTC电阻<br />-4.4%/摄氏度                                      | PTC电阻<br />0.00385$\Omega$/$\Omega$/摄氏度    | 热电压<br />10$\mu$V~40$\mu$V/摄氏度      | 数字，各种输出                           |
| 线性度                | 指数函数                                                      | 相当线性                                       | 多数类型呈非线性                            | 线性                                |
| 所需的电源              | 恒定电压或电流                                                   | 恒定电压或电流                                    | 自供电                                 | 4~30V                             |
| 响应时间               | 较快，0.12~10秒                                               | 一般较慢，1~50秒                                 | 较快，0.10~10秒                         | 较慢，5~50秒                          |
| 对电噪声的敏感度           | 相当不敏感，<br />仅对高电阻敏感                                       | 相当不敏感                                      | 敏感/冷端补偿                             | 很大程度上取决于布局                        |
| 导线电阻影响             | 仅低电阻零件                                                    | 很敏感，<br />需要三线或四线配置                        | 对短期运行无影响<br />需要TC延长线               | 不适用                               |
| 成本                 | 低到中                                                       | 绕线式——高<br />薄膜——低                          | 低                                   | 中                                 |
| 优势                 | 灵敏度<br />精度<br />成本<br />坚固耐用<br />包装灵活<br />密封<br />表面安装 | 精度<br />稳定度<br />线性度                       | 温度范围<br />自供电<br />不会自动加热<br />坚固耐用 | 易于使用<br />板式安装<br />坚固耐用<br />总成本 |
| 劣势                 | 非线性<br />自动加热<br />潮湿故障<br />（仅对非玻璃设备）                    | 导线电阻错误<br />响应时间<br />抗震<br />大小<br />包装限制 | 冷端补偿<br />精度<br />稳定度<br />TC延长线    | 精度<br />有限的应用<br />稳定度<br />响应时间  |

## DDR芯片

SDRAM 器件比较

| 条目                 | DDR3 SDRAM             | DDR2 SDRAM          | DDR SDRAM            |
| ------------------ | ---------------------- | ------------------- | -------------------- |
| CLOCK管脚时钟频率（工作频率）  | 400/533/667/800MHz     | 200/266/333/400MHz  | 100/133/166/200MHz   |
| 数据传输速率             | 800/1066/1333/1600MT/s | 400/533/667/800MT/s | 200/266/333/400 MT/s |
| 预取(Prefetch)位宽     | 8-bit                  | 4-bit               | 2-bit                |
| 输入时钟类型差分时钟         | 差分时钟                   | 差分时钟                | 差分时钟                 |
| 突发长度(Burst length) | 8,4(突发突变)              | 4,8                 | 2,4,8                |
| 数据选通信号类型           | 差分数据选通                 | 差分数据选通              | 单端数据选通               |
| 电源电压               | 1.5V                   | 1.8V                | 2.5V                 |
| 数据电平标准             | SSTL_15                | SSTL_18             | SSTL_2               |
| CAS Latency(CL)    | 5,6,7,8,9时钟            | 3,4,5时钟             | 2,2.5,3时钟            |
| 片内终端电阻(ODT)        | 支持                     | 支持                  | 不支持                  |
| 芯片封装               | FBGA                   | FBGA                | TSOP(II)/FBGA/LQFP   |

## 外部参考电压电路

![image.png](https://i.loli.net/2021/08/09/MWA1U3lyaujXDIL.png)

## 电源相关

1. 开关电源减小开关噪声
   
   $PFET$的电流快速增加加上走线的寄生电感，会在开关节点和$VIN$处产生有害的开关噪声尖峰。开关噪声将随着负载电流的输入电压增加。该噪声也可能会通过接地层传播，有时会导致无法预测的设备性能。降低$PFET$的上升下降时间可以非常有效地减小这种噪声。可以通过与$PGATE$串联放置一个小的电阻(1$\Omega$~10$\Omega$)来降低$PFET$的速度。但是，该电阻会增加$PFET$中的开关损耗，降低效率。因此，应使其尽可能小，仅在必要时使用。
   
   降低开关噪声的另一种方法是，使用小型$RC$滤波器或缓冲器。缓冲器应与二极管并联，并靠近$PEFT$的漏极连接。缓冲器应保持尽可能小，以限制其对系统效率的影响。典型范围为10$\Omega$~100$\Omega$,陶瓷电容$470pF$ ~$2.2 \mu F$ .
   
   ![Snubber.png](https://i.loli.net/2021/04/02/D5BScVNwgOfLtk7.png)

## HDMI 2.1 协议

1. +5V供电，最大电流50mA

2. 引脚定义
   
   1. type A
   
   | Pin | 1、2类              | 3类               |
   | --- | ----------------- | ---------------- |
   | 1   | TMDS Data2+       | Data2+           |
   | 2   | TMDS Data2 Shield | Data2 Shield     |
   | 3   | TMDS Data2-       | Data2-           |
   | 4   | TMDS Data1+       | Data1+           |
   | 5   | TMDS Data1 Shield | Data1 Shield     |
   | 6   | TMDS Data1-       | Data1-           |
   | 7   | TMDS Data0+       | Data0+           |
   | 8   | TMDS Data0 Shield | Data0 Shield     |
   | 9   | TMDS Data0-       | Data0-           |
   | 10  | TMDS Clock+       | Data3+           |
   | 11  | TMDS Clock Shield | Data3 Shield     |
   | 12  | TMDS Clock-       | Data3-           |
   | 13  | CEC               | CEC              |
   | 14  | Utility           | Utility          |
   | 15  | SCL               | SCL              |
   | 16  | SDA               | SDA              |
   | 17  | DDC/CEC Ground    | DDC/CEC Ground   |
   | 18  | +5V Power         | +5V Power        |
   | 19  | Hot Plug Dectect  | Hot Plug Dectect |
   
   2. type C

| Pin | 1、2类              | 3类               |
| --- | ----------------- | ---------------- |
| 1   | TMDS Data2 Shield | Data2 Shield     |
| 2   | TMDS Data2+       | Data2+           |
| 3   | TMDS Data2-       | Data2-           |
| 4   | TMDS Data1 Shield | Data1 Shield     |
| 5   | TMDS Data1+       | Data1+           |
| 6   | TMDS Data1-       | Data1-           |
| 7   | TMDS Data0 Shield | Data0 Shield     |
| 8   | TMDS Data0+       | Data0+           |
| 9   | TMDS Data0-       | Data0-           |
| 10  | TMDS Clock Shield | Data3 Shield     |
| 11  | TMDS Clock+       | Data3+           |
| 12  | TMDS Clock-       | Data3-           |
| 13  | CEC               | CEC              |
| 14  | Utility           | Utility          |
| 15  | SCL               | SCL              |
| 16  | SDA               | SDA              |
| 17  | DDC/CEC Ground    | DDC/CEC Ground   |
| 18  | +5V Power         | +5V Power        |
| 19  | Hot Plug Dectect  | Hot Plug Dectect |

3. type D
   
   | Pin | 1、2类              | 3类               |
   | --- | ----------------- | ---------------- |
   | 1   | Hot Plug Dectect  | Hot Plug Dectect |
   | 2   | Utility           | Utility          |
   | 3   | TMDS Data2+       | Data2+           |
   | 4   | TMDS Data2 Shield | Data2 Shield     |
   | 5   | TMDS Data2-       | Data2-           |
   | 6   | TMDS Data1+       | Data1+           |
   | 7   | TMDS Data1 Shield | Data1 Shield     |
   | 8   | TMDS Data1-       | Data1-           |
   | 9   | TMDS Data0+       | Data0+           |
   | 10  | TMDS Data0 Shield | Data0 Shield     |
   | 11  | TMDS Data0-       | Data0-           |
   | 12  | TMDS Clock+       | Data3+           |
   | 13  | TMDS Clock Shield | Data3 Shield     |
   | 14  | TMDS Clock-       | Data3-           |
   | 15  | CEC               | CEC              |
   | 16  | DDC/CEC Ground    | DDC/CEC Ground   |
   | 17  | SCL               | SCL              |
   | 18  | SDA               | SDA              |
   | 19  | +5V Power         | +5V Power        |

3. 差分数据线特征阻抗100$\Omega$ .

## 三运放仪表仪表放大器

![Untitled.png](https://s2.loli.net/2022/01/30/Du6kMiQc1NydpEG.png)

### $G = \frac{R_3}{R_2}\times\frac{R_G+2R_1}{R_G}$ 
